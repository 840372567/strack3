$(function(){function i(){Strack.load_grid_columns("#table_grid",{loading_id:"projpage-main",page:e.page,module_id:e.module_id,project_id:e.project_id,temp_fields:{add:{},cut:{}}},function(i){var d={filter:{temp_fields:{add:{},cut:{}},group:i.grid.group_name,sort:i.grid.sort_config.sort_query,request:[],filter_input:i.grid.filter_config.filter_input,filter_panel:i.grid.filter_config.filter_panel,filter_advance:i.grid.filter_config.filter_advance},page:e.page,module_id:e.module_id,project_id:e.project_id},a={url:PublishPHP.getPublishGridData,height:Strack.panel_height("#grid_datagrid_main",0),rowheight:43,differhigh:!1,singleSelect:!1,adaptive:{dom:".base-m-grid",min_width:680,exth:0,domresize:1},multiSort:!0,DragSelect:!0,queryParams:{filter_data:JSON.stringify(d)},panelConfig:{active_filter_id:i.grid.filter_config.filter_id},sortConfig:i.grid.sort_config,sortData:i.grid.sort_config.sort_data,toolbarConfig:{id:"grid_datagrid_main",page:"project_base",sortAllow:!0,groupAllow:!0,fieldAllow:!0,viewAllow:!0},searchConfig:{id:"main_grid_search",bar_show:i.filter_bar_show,filterBar:{main_dom:"grid_datagrid_main",bar_dom:"grid_filter_main"}},filterConfig:{id:"grid_filter_main",barParam:{}},columnsFieldConfig:i.grid.columnsFieldConfig,frozenColumns:i.grid.frozenColumns,columns:i.grid.columns,toolbar:"#tb_grid",pagination:!0,pageSize:100,pageList:[100,200,300,400,500,"All"],page_numberber:1,pagePosition:"bottom",remoteSort:!1,onDblClickRow:function(i,e){Strack.SideColumnOpen(e.assembly_id,50,50,project_id,"data_epis")}};i.grid.group_name.length&&(a.groupActive=!0,a.groupField=i.grid.group_name,a.groupFormatter=function(i,e){return'<span class="">'+i+"( "+e.length+" )</span>"}),$("#main_datagrid_box").datagrid(a).datagrid("enableCellEditing").datagrid("disableCellSelecting").datagrid("gotoCell",{index:0,field:"id"}).datagrid("columnMoving")})}obj={publish_add:function(i){var d=$(i).data("lang");Strack.item_operate_dialog(d,{mode:"create",field_list_type:["edit"],module_id:e.module_id,project_id:e.project_id,page:e.page,type:"add_panel"},function(){})},publish_edit:function(i){var d=$("#main_datagrid_box").datagrid("getSelected");if(d.id>0){var a=$(i).data("lang");Strack.item_operate_dialog(a,{mode:"modify",field_list_type:["edit"],module_id:e.module_id,project_id:e.project_id,page:e.page,type:"update_panel",primary_id:d.id},function(){})}},publish_delete:function(e){var d=$("#main_datagrid_box").datagrid("getSelected");d.id>0&&Strack.ajax_base_delete(d.id,PublishPHP.Delete_Publish_notice,PublishPHP.deletePublish,function(e){i()})}};var e=Strack.generate_hidden_param();e.grid_page_id=e.module_code+"_grid_"+e.project_id,i()});