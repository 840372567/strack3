$(function(){function t(t,a){Gisnew="filter",GcrudManager.transport.load.params={filter:JSON.stringify(Strack.G.GanttFilter)},GcrudManager.load({tasks:{page:t,pageSize:a}})}function a(){GcrudManager.sync(function(){GcrudManager.commit()})}obj={ResetGanttData:function(){Strack.G.GanttFilter.request={project_id:["eq",pid],active:["eq",1],isreport:["eq",20]},Strack.G.GanttFilter.filter_bar=[],t(1,100)},TaskstoTrash:function(){},saveGantt:function(){a()},switchScale:function(t){switch($(t).data("scale")){case"week":GanttPanel.switchViewPreset("weekAndDayLetter");break;case"month":GanttPanel.switchViewPreset("monthAndYear");break;case"year":GanttPanel.switchViewPreset("year",new Date(GanttPanel.getStart().getFullYear(),1,1),new Date(GanttPanel.getStart().getFullYear()+5,1,1))}},ScalePlus:function(){GanttPanel.zoomIn()},ScaleMinus:function(){GanttPanel.zoomOut()},timelineBack:function(){GanttPanel.shiftPrevious()},timelineForward:function(){GanttPanel.shiftNext()},jumpToToday:function(){GanttPanel.goToNow()},expandAll:function(){parseInt(Gtotal)<50?GanttPanel.expandAll():layer.msg(GanttPHP.GanttLimitTotal,{icon:2,time:1200,anim:6})},cloesAll:function(){parseInt(Gtotal)<50?GanttPanel.collapseAll():layer.msg(GanttPHP.GanttLimitTotal,{icon:2,time:1200,anim:6})},switchEntity:function(a){var e=$(a).data("entity"),n=0;switch(e){case"preproduction":n=30;break;case"asset":n=40;break;case"shot":n=70}Strack.G.GanttFilter.request.type=n,t(1,100)},FilterGantt:function(a){Strack.G.GanttFilter=a,t(1,100)}};var e=$("#project_id").val();Strack.verify_project_data(e,$("#tac_project"),function(t){})});