$(function(){function a(a){p(a.avatar,a.first_name,a.last_name),$("#ac_my_name").append(Strack.GetFullNameMax(a.first_name,a.last_name)),$("#ac_my_dept").append(a.department),$("#ac_my_scope").append(a.scope),$("#ac_my_group").append(a.group)}function n(a){$("#uedit_n_sex").html(a.sex_name),$("#uedit_n_lang").html(a.lang_list),$("#uedit_n_nation").html('<i class="'+a.nation+' flag"></i>'+a.nation_info.name),$("#uedit_n_birth").html(a.birth_date),$("#uedit_n_origo").html(a.origo),$("#uedit_n_location").html(a.location),$("#uedit_n_phone").html(a.phone),$("#uedit_n_email").html(a.email),$("#uedit_n_wexin").html(a.wexin),$("#uedit_n_linkedin").html(a.linkedin),$("#uitem_website").html(a.website)}function e(a){var n="";a.forEach(function(a){n+=s(a)}),$("#ujob_list").empty().append(n)}function i(a){var n="";a.forEach(function(a){n+=o(a)}),$("#uedu_list").empty().append(n)}function t(a){var n="";a.forEach(function(a){n+=c(a)}),$("#userinfo_siklls").empty().append(n)}function s(a){var n="",e="",i="";return e=parseInt(a.count_year)>0?"("+a.count_year+'<span class="icon-left"></span>'+UserinfoPHP.Years+'<span class="icon-left"></span>'+a.count_month+'<span class="icon-left"></span>'+UserinfoPHP.Months+")":"("+a.count_month+'<span class="icon-left"></span>'+UserinfoPHP.Months+")",i=parseInt(a.end_year)&&parseInt(a.end_month)?a.end_year+"-"+a.show_emonth:UserinfoPHP.Present,n+='<div id="userinfo_cjob_'+a.exp_id+'"  class="userinfo-c-job"><div id="cjob_wrap_'+a.exp_id+'"  class="uc-job-wrap"><div class="c-job-name c-job-item cw-job-item">'+a.title+'</div><div class="c-job-company c-job-item">'+a.company+'</div><div class="c-job-time c-job-item"><div class="cjob-time-range aign-left"><span>'+a.start_year+"-"+a.show_smonth+"</span><span> - </span><span>"+i+'</span><span class="icon-right">'+e+'</span></div><span class="cjob-date-sep">|</span><span>'+a.location+'</span></div><div class="c-job-do c-job-item">'+a.job_description+"</div></div></div>"}function o(a){var n="";return n+='<div id="userinfo_cedu_'+a.edu_id+'" class="userinfo-c-job"><div id="cedu_wrap_'+a.edu_id+'" class="uc-job-wrap"><div class="c-job-name c-job-item cw-job-item">'+a.school+'</div><div class="c-job-company c-job-item"><span>'+a.field+"</span><span> | </span><span>"+a.degree_name+'</span></div><div class="c-job-time c-job-item"><span>'+a.start_date+"</span><span> - </span><span>"+a.end_date+"</span></div></div></div>"}function c(a){var n="";return n+='<span class="tag-items"><span class="aign-left">'+a.tag_name+"</span></span>"}function p(a,n,e){var i=Strack.build_avatar(a,"","d-avatar-big",Strack.JointLetter(n,e));$("#ac_my_avatar").empty().append(i)}var r=$("#current_userid").val();!function(){$.ajax({type:"POST",url:UserinfoPHP.getUserInfoDetails,data:{cuser_id:r},beforeSend:function(){$(".userinfo-h-wrap").append(Strack.loading_dom("white","","infotop")),$(".userinfo-m-main").append(Strack.loading_dom("white","","infobase"))},success:function(s){var o=JSON.parse(s);switch(parseInt(o.status)){case 200:a(o.user_info),n(o.Base_Info),e(o.workexp_data),i(o.education_data),t(o.skill_data);break;case 404:$("#userinfo_main").empty().append(Strack.ProjWarn(UserinfoPHP.User_Not_Exist))}$("#st-load_infotop").remove(),$("#st-load_infobase").remove()}})}()});