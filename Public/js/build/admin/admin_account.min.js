$(function(){obj={user_add:function(e){var t=$(e).data("lang");Strack.item_operate_dialog(t,{mode:"create",field_list_type:["edit"],module_id:34,project_id:0,page:"admin_account",type:"add_panel"},function(){obj.user_reset()})},user_modify:function(e){var t=$(e).data("lang");Strack.get_datagrid_select_data("#main_datagrid_box",function(e){Strack.item_operate_dialog(t,{mode:"modify",field_list_type:["edit"],module_id:34,project_id:0,page:"admin_account",type:"update_panel",primary_id:e.join(",")},function(){obj.user_reset()})})},user_delete:function(e){Strack.ajax_grid_delete("main_datagrid_box","id",StrackLang.Delete_User_Notice,AccountPHP.deleteAccount)},user_cancel:function(e){Strack.get_datagrid_select_data("#main_datagrid_box",function(e){$.ajax({type:"POST",url:AccountPHP.cancelAccount,data:{ids:e.join(",")},dataType:"json",beforeSend:function(){$.messager.progress({title:StrackLang.Waiting,msg:StrackLang.loading})},success:function(e){$.messager.progress("close"),200===parseInt(e.status)?(Strack.top_message({bg:"g",msg:e.message}),obj.user_reset()):layer.msg(e.message,{icon:7,time:1200,anim:6})}})})},user_reset_default_pass:function(e){Strack.get_datagrid_select_data("#main_datagrid_box",function(e){$.ajax({type:"POST",url:AccountPHP.resetAccountPassword,data:{ids:e.join(",")},dataType:"json",beforeSend:function(){$.messager.progress({title:StrackLang.Waiting,msg:StrackLang.loading})},success:function(e){$.messager.progress("close"),200===parseInt(e.status)?(Strack.top_message({bg:"g",msg:e.message}),obj.user_reset()):layer.msg(e.message,{icon:7,time:1200,anim:6})}})})},user_reset:function(){$("#main_datagrid_box").datagrid("reload")}},Strack.load_grid_columns("#active_account",{page:"admin_account",view_type:"grid",module_id:34,project_id:0,temp_fields:{add:{},cut:{}}},function(e){$("#main_datagrid_box").datagrid({url:AccountPHP.getAccountGridData,height:Strack.panel_height(".account-list",0),rowheight:50,view:scrollview,adaptive:{dom:".account-list",min_width:1736,exth:0,domresize:1},multiSort:!0,DragSelect:!0,queryParams:{filter_data:JSON.stringify({filter:{group:[],sort:{},request:[],temp_fields:{add:{},cut:{}},filter_input:[],filter_panel:[],filter_advance:[]},page:"admin_account",view_type:"grid",module_id:34,project_id:0})},panelConfig:{active_filter_id:e.grid.filter_config.filter_id},sortConfig:e.grid.sort_config,sortData:e.grid.sort_config.sort_data,toolbarConfig:{id:"grid_datagrid_main",sortAllow:!0,groupAllow:!0,fieldAllow:!0,viewAllow:!0},searchConfig:{id:"main_grid_search",filterBar:{main_dom:"grid_datagrid_main",bar_dom:"grid_filter_main"}},filterConfig:{id:"grid_filter_main",barParam:{}},contextMenuData:{id:"st_menu_task",copy_id:"ac_copy_cell",data:[{id:"ac_user_modify",lang:StrackLang.Edit_Selected,iconCls:"icon-uniF044",type:"function",click:"obj.user_modify(this)"},{id:"ac_user_close",lang:AccountPHP.Cancel_User,iconCls:"icon-uniE8FB",type:"function",click:"obj.user_close(this)"},{id:"ac_user_delete",lang:AccountPHP.Delete_User,iconCls:"icon-remove",type:"function",click:"obj.user_delete(this)"},{id:"ac_copy_cell",lang:StrackLang.Copy_Grip_Cell,iconCls:"icon-uniE943",type:"function",click:"Strack.copy_to_clipboard(this)",attr_data:{"clipboard-action":"copy","clipboard-target":"#grid_clipboard"}}]},columnsFieldConfig:e.grid.columnsFieldConfig,frozenColumns:e.grid.frozenColumns,columns:e.grid.columns,toolbar:"#tb_grid",pagination:!0,pageSize:100,pageList:[100,200],pageNumber:1,pagePosition:"bottom",showPageList:!1,remoteSort:!1,onDblClickRow:function(e,t){},onLoadSuccess:function(e){}}).datagrid("enableCellEditing").datagrid("disableCellSelecting").datagrid("gotoCell",{index:0,field:"id"}).datagrid("columnMoving")})});