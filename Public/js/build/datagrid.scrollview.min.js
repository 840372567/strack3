$.extend($.fn.datagrid.defaults,{rowHeight:50,maxDivHeight:1e7,maxVisibleHeight:15e6,deltaTopHeight:0,groupHeight:28,expanderWidth:30,onBeforeFetch:function(t){},onFetch:function(t,a){}}),$.extend($.fn.datagrid.methods,{fixDetailRowHeight:function(t,d){return t.each(function(){var t=$.data(this,"datagrid").options,a=$.data(this,"datagrid").dc,e=t.finder.getTr(this,d,"body",1).next(),i=t.finder.getTr(this,d,"body",2).next();if(i.is(":visible")){e.css("height",""),i.css("height","");var r=Math.max(e.height(),i.height());e.css("height",r),i.css("height",r)}a.body2.triggerHandler("scroll")})},getExpander:function(t,a){return $.data(t[0],"datagrid").options.finder.getTr(t[0],a).find("span.datagrid-row-expander")},getRowDetail:function(t,a){return $.data(t[0],"datagrid").options.finder.getTr(t[0],a,"body",2).next().find("div.datagrid-row-detail")},expandRow:function(t,d){return t.each(function(){var t=$(this).datagrid("options"),a=($.data(this,"datagrid").dc,$(this).datagrid("getExpander",d));if(a.hasClass("datagrid-row-expand")){a.removeClass("datagrid-row-expand").addClass("datagrid-row-collapse");var e=t.finder.getTr(this,d,"body",1).next(),i=t.finder.getTr(this,d,"body",2).next();if(e.show(),i.show(),$(this).datagrid("fixDetailRowHeight",d),t.onExpandRow){var r=$(this).datagrid("getRows")[d];t.onExpandRow.call(this,d,r)}}})},collapseRow:function(t,o){return t.each(function(){var t=$(this).datagrid("options"),a=$.data(this,"datagrid").dc,e=$(this).datagrid("getExpander",o);if(e.hasClass("datagrid-row-collapse")){e.removeClass("datagrid-row-collapse").addClass("datagrid-row-expand");var i=t.finder.getTr(this,o,"body",1).next(),r=t.finder.getTr(this,o,"body",2).next();if(i.hide(),r.hide(),a.body2.triggerHandler("scroll"),t.onCollapseRow){var d=$(this).datagrid("getRows")[o];t.onCollapseRow.call(this,o,d)}}})}}),$.extend($.fn.datagrid.defaults.finder,{getRow:function(t,a){var e="object"==typeof a?a.attr("datagrid-row-index"):a,i=$.data(t,"datagrid").data,r=$(t).datagrid("options");if("scrollview"===r.view.type){if(e<i.firstRows.length)return i.firstRows[e];e-=r.view.index}return i.rows[e]}});var scrollview=$.extend({},$.fn.datagrid.defaults.view,{type:"scrollview",index:0,r1:[],r2:[],rows:[],render:function(t,a,e){var i=$.data(t,"datagrid").options,r=this.rows||[];if(r.length){$(t).datagrid("getColumnFields",e);if(!e||i.rownumbers||i.frozenColumns&&i.frozenColumns.length){for(var d,o=this.index,s=['<div class="datagrid-btable-top"></div>'],n=[],l=0;l<r.length;l++){var g=r[l];(d=c(g[i.groupField]))?d.rows.push(g):(d={value:g[i.groupField],rows:[g]},n.push(d))}var h=[];for(l=0;l<n.length;l++)(d=n[l]).startIndex=o,o+=d.rows.length,h=h.concat(d.rows);for(l=0;l<n.length;l++)s.push(this.renderGroup.call(this,t,l,n[l],e));s.push('<div class="datagrid-btable-bottom"></div>'),$(a).html(s.join(""))}}function c(t){for(var a=0;a<n.length;a++){var e=n[a];if(e.value===t)return e}return null}},renderGroup:function(t,a,e,i){var r=$.data(t,"datagrid"),d=r.options,o=$(t).datagrid("getColumnFields",i),s=[];d.groupActive&&(s.push('<div class="datagrid-group" group-index='+a+">"),s.push('<table cellspacing="0" cellpadding="0" border="0" style="height:100%"><tbody>'),s.push("<tr>"),(i&&(d.rownumbers||d.frozenColumns.length)||!i&&!d.rownumbers&&!d.frozenColumns.length)&&s.push('<td style="border:0;text-align:center;width:25px"><span class="datagrid-row-expander datagrid-row-collapse icon-uniF077" style="display:inline-block;margin-left: 8px;cursor:pointer">&nbsp;</span></td>'),s.push('<td style="border:0;">'),i?(s.push('<span class="datagrid-group-title frozen_gtitle text-ellipsis">'),d.frozenColumns[0]&&2<=d.frozenColumns[0].length&&s.push(d.groupFormatter.call(t,e.value,e.rows))):(s.push('<span class="datagrid-group-title unfrozen_gtitle text-ellipsis">'),d.frozenColumns[0]&&d.frozenColumns[0].length<2&&s.push(d.groupFormatter.call(t,e.value,e.rows))),s.push("</span>"),s.push("</td>"),s.push("</tr>"),s.push("</tbody></table>"),s.push("</div>")),s.push('<table class="datagrid-btable" cellspacing="0" cellpadding="0" border="0"><tbody>');for(var n=e.startIndex,l=0;l<e.rows.length;l++){var g=d.rowStyler?d.rowStyler.call(t,n,e.rows[l]):"",h="",c="";"string"==typeof g?c=g:g&&(h=g.class||"",c=g.style||"");var p=[];c&&p.push(c);var u='class="datagrid-row '+(n%2&&d.striped?"datagrid-row-alt ":" ")+h+'"',f=0<p.length?'style="'+p.join(";")+'"':"",w=r.rowIdPrefix+"-"+(i?1:2)+"-"+n;s.push('<tr id="'+w+'" datagrid-row-index="'+n+'" '+u+" "+f+">"),s.push(this.renderRow.call(this,t,o,i,n,e.rows[l])),s.push("</tr>"),n++}return s.push("</tbody></table>"),s.join("")},onBeforeRender:function(r,t){var d=$.data(r,"datagrid"),o=d.options,a=d.dc,s=this;o._emptyMsg=o.emptyMsg,o.emptyMsg="",d.data.firstRows=d.data.rows,d.data.rows=[],this.groups=[],a.body1.add(a.body2).empty(),this.rows=[],this.r1=this.r2=[],function(){o.rowHeight=$(r).datagrid("getRowHeight");var e=$(r).datagrid("getPager");if(e.each(function(){$(this).pagination("options").onSelectPage=function(t,a){o.pageNumber=t||1,o.pageSize=a,e.pagination("refresh",{pageNumber:t,pageSize:a}),$(r).datagrid("gotoPage",o.pageNumber)}}),d.onLoadSuccess=o.onLoadSuccess,o.onLoadSuccess=function(){},!o.remoteSort){var i=o.onBeforeSortColumn;o.onBeforeSortColumn=function(t,a){var e=i.call(this,t,a);if(!1===e)return!1;d.data.rows=d.data.firstRows}}a.body2.unbind(".datagrid"),setTimeout(function(){a.body2.unbind(".datagrid").bind("scroll.datagrid",function(t){d.onLoadSuccess&&(o.onLoadSuccess=d.onLoadSuccess,d.onLoadSuccess=void 0,d.originalRows=$.extend(!0,[],d.data.firstRows)),s.scrollTimer&&clearTimeout(s.scrollTimer),s.scrollTimer=setTimeout(function(){s.scrolling.call(s,r)},50)}),a.body2.triggerHandler("scroll.datagrid")},0)}();var e=this;setTimeout(function(){e.bindEvents(r)},0)},onAfterRender:function(e){$.fn.datagrid.defaults.view.onAfterRender.call(this,e);var i=this,r=$.data(e,"datagrid"),t=r.options;r.onResizeColumn||(r.onResizeColumn=t.onResizeColumn),r.onResize||(r.onResize=t.onResize),t.onResizeColumn=function(t,a){i.resizeGroup(e),r.onResizeColumn.call(e,t,a)},t.onResize=function(t,a){i.resizeGroup(e),r.onResize.call($(e).datagrid("getPanel")[0],t,a)},i.resizeGroup(e);var a=$.data(e,"datagrid").dc;a.footer1.add(a.footer2).find("span.datagrid-row-expander").css("visibility","hidden")},renderRow:function(t,a,e,i,r){var d=$.data(t,"datagrid").options,o=[];if(e&&d.rownumbers){var s=i+1;d.pagination&&(s+=(d.pageNumber-1)*d.pageSize),o.push('<td class="datagrid-td-rownumber"><div class="datagrid-cell-rownumber">'+s+"</div></td>")}for(var n=0;n<a.length;n++){var l=a[n],g=$(t).datagrid("getColumnOption",l);if(g){var h=r[l],c=g.styler&&g.styler(h,r,i)||"",p="",u="";"string"==typeof c?u=c:o&&(p=c.class||"",u=c.style||"");var f=[],w=[];p&&f.push(p),u&&w.push(u),g.cbd&&(f.push(g.cbd),w.push("border-color:#DDD #"+g.bdc)),g.editor&&f.push("item-hover"),g.hidden&&w.push("display:none");var v=0<f.length?'class="'+f.join(" ")+'"':"",b=0<w.length?w.join(";"):"";o.push('<td field="'+l+'" style="'+b+'" '+v+">"),g.editor&&o.push('<a href="javascript:;" class="aign-right icon-hide-min dg-hid-icon"><i class="icon-uniE684"></i></a>'),g.checkbox?b="":g.expander?b="text-align:center;height:16px;":(b=u,g.align&&(b+=";text-align:"+g.align+";"),d.nowrap?d.autoRowHeight&&(b+=";height:auto;"):b+=";white-space:normal;height:auto;"),o.push('<div style="'+b+'" '),g.checkbox?o.push('class="datagrid-cell-check '):o.push('class="datagrid-cell '+g.cellClass),o.push('">'),g.checkbox?o.push('<input type="checkbox" name="'+l+'" value="'+(void 0!==h?h:"")+'">'):g.expander?o.push('<span class="datagrid-row-expander datagrid-row-expand" style="display:inline-block;width:16px;height:16px;cursor:pointer;" />'):g.formatter?o.push(g.formatter(h,r,i)):o.push(h),o.push("</div>"),o.push("</td>")}}return o.join("")},bindEvents:function(i){var t=$.data(i,"datagrid").dc,a=t.body1.add(t.body2),r=($.data(a[0],"events")||$._data(a[0],"events")).click[0].handler;a.unbind("click").bind("click",function(t){var a=$(t.target).closest("span.datagrid-row-expander");if(a.length){var e=a.closest("div.datagrid-group").attr("group-index");a.hasClass("datagrid-row-collapse")?$(i).datagrid("collapseGroup",e):$(i).datagrid("expandGroup",e)}else r(t);t.stopPropagation()}),a.scrollLeft(0).scroll(function(t){$(".datagrid-group").css("width","calc(100% + "+this.scrollLeft+"px)")})},scrolling:function(a){var t=$.data(a,"datagrid"),e=t.options,i=t.dc;if(e.finder.getRows(a).length){if(!i.body2.is(":visible"))return;var r=i.view2.children("div.datagrid-header").outerHeight(),d=i.body2.children("div.datagrid-btable-top"),o=i.body2.children("div.datagrid-btable-bottom");if(!d.length||!o.length)return;var s,n=d.position().top+d._outerHeight()-r,l=o.position().top-r;if(n=Math.floor(n),l=Math.floor(l),n>i.body2.height()||l<0)this.reload.call(this,a);else if(0<n)s=Math.floor(this.index/e.pageSize),this.getRows.call(this,a,s,function(t){this.page=s,this.r2=this.r1,this.r1=t,this.index=(s-1)*e.pageSize,this.rows=this.r1.concat(this.r2),this.populate.call(this,a)});else if(l<i.body2.height()){if(t.data.rows.length+this.index>=t.data.total)return;s=Math.floor(this.index/e.pageSize)+2,this.r2.length&&s++,this.getRows.call(this,a,s,function(t){this.page=s,this.r2.length?(this.r1=this.r2,this.r2=t,this.index+=e.pageSize):this.r2=t,this.rows=this.r1.concat(this.r2),this.populate.call(this,a)})}}else this.reload.call(this,a)},reload:function(a){var t=$.data(a,"datagrid"),e=t.options,i=t.dc,r=$(i.body2).scrollTop()+e.deltaTopHeight,d=Math.floor(r/e.rowHeight),o=Math.floor(d/e.pageSize)+1;this.getRows.call(this,a,o,function(t){this.page=o,this.index=(o-1)*e.pageSize,this.rows=t,this.r1=t,this.r2=[],this.populate.call(this,a),i.body2.triggerHandler("scroll.datagrid")})},getRows:function(e,i,r){var t=$.data(e,"datagrid"),d=t.options,a=(i-1)*d.pageSize;if(d.emptyMsg=d._emptyMsg,this.setEmptyMsg&&this.setEmptyMsg(e),!(a<0)&&!1!==d.onBeforeFetch.call(e,i)){var o=[];if(t.data.firstRows?o=t.data.firstRows.slice(a,a+d.pageSize):t.data.firstRows=[],!o.length||o.length!==d.pageSize&&a+o.length!==t.data.total){var s=$.extend({},d.queryParams,{page:i,rows:d.pageSize});if(d.sortName&&$.extend(s,{sort:d.sortName,order:d.sortOrder}),!1===d.onBeforeLoad.call(e,s))return;$(e).datagrid("loading"),!1===d.loader.call(e,s,function(t){$(e).datagrid("loaded");var a=d.loadFilter.call(e,t);d.onFetch.call(e,i,a.rows),a.rows&&a.rows.length?r.call(d.view,a.rows):d.onLoadSuccess.call(e,a)},function(){$(e).datagrid("loaded"),d.onLoadError.apply(e,arguments)})&&($(e).datagrid("loaded"),t.data.firstRows.length||(d.onFetch.call(e,i,t.data.firstRows),d.onLoadSuccess.call(e,t.data)))}else d.onFetch.call(e,i,o),r.call(this,o)}},populate:function(t){var a,e,i,r=$.data(t,"datagrid"),d=r.options,o=r.dc,s=d.rowHeight,n=d.maxDivHeight;if(this.rows.length){d.view.render.call(d.view,t,o.body2,!1),d.view.render.call(d.view,t,o.body1,!0);var l=o.body1.add(o.body2),g=l.children("div.datagrid-btable-top"),h=l.children("div.datagrid-btable-bottom"),c=this.index*s,p=r.data.total*s-this.rows.length*s-c;e=o,i=0,(a=d).differhigh?e.body2.find(".datagrid-row").each(function(t){i=$(this).attr("datagrid-row-index"),e.body1.find("#datagrid-row-r1-1-"+i).css("height",$(this).height())}):(e.body1.find(".datagrid-row").css("height",a.rowheight),e.body2.find(".datagrid-row").css("height",a.rowheight)),y(g,c),y(h,p),r.data.rows=this.rows;var u=o.body2.scrollTop()+d.deltaTopHeight;if(c>d.maxVisibleHeight?(d.deltaTopHeight=c-d.maxVisibleHeight,y(g,c-d.deltaTopHeight)):d.deltaTopHeight=0,p>d.maxVisibleHeight)y(h,d.maxVisibleHeight);else if(0===p){var f=r.data.total%d.pageSize;f&&y(h,o.body2.height()-f*s)}$(t).datagrid("setSelectionState"),o.body2.scrollTop(u-d.deltaTopHeight),d.pageNumber=this.page;var w=$(t).datagrid("getPager");if(w.length){var v=w.pagination("options"),b=v.displayMsg,x=b.replace(/{from}/,this.index+1);x=x.replace(/{to}/,this.index+this.rows.length),w.pagination("refresh",{pageNumber:this.page,displayMsg:x}),v.displayMsg=b}this.setEmptyMsg&&this.setEmptyMsg(t),d.onLoadSuccess.call(t,{total:r.data.total,rows:this.rows})}function y(t,a){var e=Math.floor(a/n),i=a-n*e;a<0&&(i=0);for(var r=[],d=0;d<e;d++)r.push('<div style="height:'+n+'px"></div>');r.push('<div style="height:'+i+'px"></div>'),$(t).html(r.join(""))}},refreshGroupTitle:function(t,a){var e=$.data(t,"datagrid"),i=e.options,r=e.dc,d=this.groups[a];r.body1.add(r.body2).children("div.datagrid-group[group-index="+a+"]").find("span.datagrid-group-title").html(i.groupFormatter.call(t,d.value,d.rows))},resizeGroup:function(t,a){var e=$.data(t,"datagrid"),i=e.dc,r=i.header2.find("table").find("tr.datagrid-filter-row").hide(),d=i.body2.children("table.datagrid-btable:first").width();if(null==a)var o=i.body2.children("div.datagrid-group");else o=i.body2.children("div.datagrid-group[group-index="+a+"]");o._outerWidth(d);var s=e.options;if(s.frozenColumns&&s.frozenColumns.length){var n=i.view1.width()-s.expanderWidth,l="rtl"==i.view1.css("direction").toLowerCase();o.find(".datagrid-group-title").css(l?"right":"left",-n+"px")}r.length&&s.showFilterBar&&r.show()},setGroupIndex:function(t){for(var a=0,e=0;e<this.groups.length;e++){var i=this.groups[e];i.startIndex=a,a+=i.rows.length}},updateRow:function(r,d,t){var o=$.data(r,"datagrid").options,s=($(r).datagrid("getRows"),o.finder.getRow(r,d)),a=i(d);$.extend(s,t);var e=i(d),n=a.c,l=e.s,g="datagrid-row "+(d%2&&o.striped?"datagrid-row-alt ":" ")+e.c;function i(t){var a=o.rowStyler?o.rowStyler.call(r,t,s):"",e="",i="";return"string"==typeof a?i=a:a&&(e=a.class||"",i=a.style||""),{c:e,s:i}}function h(t){var a=$(r).datagrid("getColumnFields",t),e=o.finder.getTr(r,d,"body",t?1:2),i=e.find("div.datagrid-cell-check input[type=checkbox]").is(":checked");e.html(this.renderRow.call(this,r,a,t,d,s)),e.attr("style",l).removeClass(n).addClass(g),i&&e.find("div.datagrid-cell-check input[type=checkbox]")._propAttr("checked",!0)}h.call(this,!0),h.call(this,!1),$(r).datagrid("fixRowHeight",d)},insertRow:function(r,t,a){for(var e,i=$.data(r,"datagrid"),d=i.options,o=i.dc,s=null,n=0;n<this.groups.length;n++)if(this.groups[n].value==a[d.groupField]){s=this.groups[n],e=n;break}function l(t,a){var e=a?1:2,i=d.finder.getTr(r,t-1,"body",e);d.finder.getTr(r,t,"body",e).insertAfter(i)}s?(null!=t&&null!=t||(t=i.data.rows.length),t<s.startIndex?t=s.startIndex:t>s.startIndex+s.rows.length&&(t=s.startIndex+s.rows.length),$.fn.datagrid.defaults.view.insertRow.call(this,r,t,a),t>=s.startIndex+s.rows.length&&(l(t,!0),l(t,!1)),s.rows.splice(t-s.startIndex,0,a)):(s={value:a[d.groupField],rows:[a],startIndex:i.data.rows.length},e=this.groups.length,o.body1.append(this.renderGroup.call(this,r,e,s,!0)),o.body2.append(this.renderGroup.call(this,r,e,s,!1)),this.groups.push(s),i.data.rows.push(a)),this.refreshGroupTitle(r,e)},deleteRow:function(t,a){var e=$.data(t,"datagrid"),i=e.options,r=e.dc,d=r.body1.add(r.body2),o=i.finder.getTr(t,a,"body",2).closest("table.datagrid-btable"),s=parseInt(o.prev().attr("group-index"));if($.fn.datagrid.defaults.view.deleteRow.call(this,t,a),1<(l=this.groups[s]).rows.length)l.rows.splice(a-l.startIndex,1),this.refreshGroupTitle(t,s);else{d.children("div.datagrid-group[group-index="+s+"]").remove();for(var n=s+1;n<this.groups.length;n++)d.children("div.datagrid-group[group-index="+n+"]").attr("group-index",n-1);this.groups.splice(s,1)}for(a=0,n=0;n<this.groups.length;n++){var l;(l=this.groups[n]).startIndex=a,a+=l.rows.length}}});$.fn.datagrid.methods.baseUpdateRow=$.fn.datagrid.methods.updateRow,$.fn.datagrid.methods.baseGetRowIndex=$.fn.datagrid.methods.getRowIndex,$.fn.datagrid.methods.baseScrollTo=$.fn.datagrid.methods.scrollTo,$.fn.datagrid.methods.baseGotoPage=$.fn.datagrid.methods.gotoPage,$.fn.datagrid.methods.baseSetSelectionState=$.fn.datagrid.methods.setSelectionState,$.extend($.fn.datagrid.methods,{getRowHeight:function(t){var a=t.datagrid("options");if(!a.rowHeight){var e=$('<div style="position:absolute;top:-1000px;width:100px;height:100px;padding:5px"><table><tr class="datagrid-row"><td>cell</td></tr></table></div>').appendTo("body"),i=e.find("tr").outerHeight();e.remove(),a.rowHeight=i}return a.rowHeight},updateRow:function(t,a){return t.each(function(){if($(this).datagrid("options").finder.getRow(this,a.index))$(this).datagrid("baseUpdateRow",a);else{var t=$(this).datagrid("getData").firstRows||[];a.index<t.length&&$.extend(t[a.index],a.row)}})},getRowIndex:function(t,a){var e=t.datagrid("options");if("scrollview"!==e.view.type)return t.datagrid("baseGetRowIndex",a);var i=t.datagrid("getData"),r=0;return 0<=(r="object"==typeof a?$.easyui.indexOfArray(i.firstRows,a):$.easyui.indexOfArray(i.firstRows,e.idField,a))?r:-1===(r=t.datagrid("baseGetRowIndex",a))?-1:r+e.view.index},getRow:function(t,a){return t.datagrid("options").finder.getRow(t[0],a)},gotoPage:function(t,d){return t.each(function(){var a,e,i=this,r=$(i).datagrid("options");"scrollview"===r.view.type?("object"==typeof d?(a=d.page,e=d.callback):a=d,r.view.getRows.call(r.view,i,a,function(t){this.page=a,this.index=(a-1)*r.pageSize,this.rows=t,this.r1=t,this.r2=[],this.populate.call(this,i),$(i).data("datagrid").dc.body2.scrollTop(this.index*r.rowHeight-r.deltaTopHeight),e&&e.call(i,a)})):$(i).datagrid("baseGotoPage",d)})},scrollTo:function(t,o){return t.each(function(){var t,a,e=this,i=$(e).datagrid("options");"object"==typeof o?(t=o.index,a=o.callback):t=o;var r=i.view;if("scrollview"===r.type){if(t>=r.index&&t<r.index+r.rows.length)$(e).datagrid("baseScrollTo",t),a&&a.call(e,t);else if(0<=t){var d=Math.floor(t/i.pageSize)+1;$(e).datagrid("gotoPage",{page:d,callback:function(){setTimeout(function(){$(e).datagrid("baseScrollTo",t),a&&a.call(e,t)},0)}})}}else $(e).datagrid("baseScrollTo",t),a&&a.call(e,t)})},setSelectionState:function(t){return t.each(function(){if("scrollview"===$(this).datagrid("options").view.type){$(this).datagrid("baseSetSelectionState");var t=$(this).data("datagrid");if(t.data.firstRows.length!==t.checkedRows.length){var a=t.dc;a.header1.add(a.header2).find("input[type=checkbox]")._propAttr("checked",!1)}}else $(this).datagrid("baseSetSelectionState")})},groups:function(t){return t.datagrid("options").view.groups},expandGroup:function(t,i){return t.each(function(){var t=$(this).datagrid("options"),a=$.data(this,"datagrid").dc.view.find(null!=i?'div.datagrid-group[group-index="'+i+'"]':"div.datagrid-group"),e=a.find("span.datagrid-row-expander");e.hasClass("datagrid-row-expand")&&(e.removeClass("datagrid-row-expand").removeClass(" icon-uniF078").addClass("datagrid-row-collapse").addClass(" icon-uniF077"),a.next("table").show()),t.onExpandGroup&&t.onExpandGroup.call(this,i)})},collapseGroup:function(t,i){return t.each(function(){var t=$(this).datagrid("options"),a=$.data(this,"datagrid").dc.view.find(null!=i?'div.datagrid-group[group-index="'+i+'"]':"div.datagrid-group"),e=a.find("span.datagrid-row-expander");e.hasClass("datagrid-row-collapse")&&(e.removeClass("datagrid-row-collapse").removeClass(" icon-uniF077").addClass("datagrid-row-expand").addClass(" icon-uniF078"),a.next("table").hide()),t.onCollapseGroup&&t.onCollapseGroup.call(this,i)})},scrollToGroup:function(t,o){return t.each(function(){var t=$.data(this,"datagrid").dc,a=t.body2.children('div.datagrid-group[group-index="'+o+'"]');if(a.length){var e=a.outerHeight(),i=t.view2.children("div.datagrid-header")._outerHeight(),r=t.body2.outerHeight(!0)-t.body2.outerHeight(),d=a.position().top-i-r;d<0?t.body2.scrollTop(t.body2.scrollTop()+d):d+e>t.body2.height()-18&&t.body2.scrollTop(t.body2.scrollTop()+d+e-t.body2.height()+18)}})}});